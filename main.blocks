<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="U^8E#-926Oub2Wt~eU0|">brightness_map</variable><variable id="[iIW7hB+X6PUXnTe9`qr">i</variable><variable id="RB!*v1/F3C!EcaWcWm|h">y2</variable><variable id="5mkApR[w~HM~8n*VHvjK">x2</variable><variable id="$EPpqG)=@oO%;U`of%Mh">detected</variable><variable id="Vd`RS(1:_30PnBnoz?pC">brightness_map_prev</variable><variable id="Xg.ARV%~8fC/eB)~O_)(">x</variable><variable id="=EZ/lIxe]`KFvVl/aC%=">y</variable></variables><block type="pxt-on-start" id="Qigt)CsWFtAlZH09W7K8" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="n@,Evhkg`aCW^$nY~*6P"><field name="VAR" id="Xg.ARV%~8fC/eB)~O_)(">x</field><value name="VALUE"><shadow type="math_number" id="%raK_RT!X)pS[3jPnS.b"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="H,C[VK.8I~HuGZ/A}~f("><field name="VAR" id="=EZ/lIxe]`KFvVl/aC%=">y</field><value name="VALUE"><shadow type="math_number" id="94yA4+yYM3y+$mdTlkRI"><field name="NUM">0</field></shadow></value><next><block type="typescript_statement" id="SI-W8u~3hN5;G=6*BYQi" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let brightness_map_prev: number[] = []" numlines="1" declaredvars="brightness_map_prev"></mutation><next><block type="camera_init" id="[Z2DT({S6kau7tF5bT2:"><field name="format">Arducam.IMAGE_FORMAT.BMP</field><field name="reso">Arducam.IMAGE_RESOLUTION.OV2640_320x240</field><next><block type="radio_set_group" id="4+PKo|?3h,6vfT~ehBEB"><value name="ID"><shadow type="math_number_minmax" id="dVv8a`@wYR)pPBgVRRNx"><mutation min="0" max="255" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="variables_set" id="N_QW9$SxV!.meTRCPqp`"><field name="VAR" id="U^8E#-926Oub2Wt~eU0|">brightness_map</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="brightness_map" id="#E1pzohe!pT~-D(W_1!j"/></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="9F;7kcka=PiYMYZ1UR.E" x="0" y="398"><statement name="HANDLER"><block type="camera_capture" id=";bkNkx|dO?Y=MAtH.o[9"><next><block type="variables_set" id="Lgm-8g0gKr]b#@4kU..."><field name="VAR" id="U^8E#-926Oub2Wt~eU0|">brightness_map</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="brightness_map" id="PGoXqz+;SukOHvYj7DCO"/></value><next><block type="pxt_controls_for" id="0K2~]x9?ZmhUZ6R]XBmK"><value name="VAR"><shadow type="variables_get_reporter" id="ZRWPvO((a):,MVlC=Usl"><field name="VAR" id="[iIW7hB+X6PUXnTe9`qr">i</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="k;-bzVxR6D/./U(1!o.F"><field name="NUM">24</field></shadow></value><statement name="DO"><block type="serial_writenumber" id="wipyzJkv=Kr.xRf7c-md"><value name="value"><block type="lists_index_get" id="BDn:Bi[3!N[-WS$cw~B$"><value name="LIST"><block type="variables_get" id="hs_L9]sJauVZ.a{#PiKr"><field name="VAR" id="U^8E#-926Oub2Wt~eU0|">brightness_map</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="c[VyI+-^jfK(-Ck^1jD~"><field name="VAR" id="[iIW7hB+X6PUXnTe9`qr">i</field></block></value></block></value><next><block type="serial_writestring" id="8sZCytS}h^#^{ZFoUtfQ"><value name="text"><shadow type="text" id="1A+,/=[|)jgGU6tNX4w:"><field name="TEXT">,</field></shadow></value></block></next></block></statement><next><block type="serial_writeline" id="-QDQs#:HWZG8}+u`C:Cz"><value name="text"><shadow type="text" id="%}:s1*k$MeY.Rjnsa0`x"><field name="TEXT"/></shadow></value><next><block type="pxt_controls_for" id=")7Qvl]|u9|#;y]tS-$3j"><value name="VAR"><shadow type="variables_get_reporter" id="Tq~^egBA3!*DE-Vt8Cnp"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="|WE;wL)av?og/#8L!xvV"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="pxt_controls_for" id="cg0H=OM]EF0U3AV;e$aY"><comment>serial.writeLine("" + (Math.abs(brightness_map[y2 * 5 + x2] - brightness_map_prev[y2 * 5 + x2])))
serial.writeLine("" + ((brightness_map[y2 * 5 + x2])))</comment><value name="VAR"><shadow type="variables_get_reporter" id="4%fwgeYTUT^t3:(K^7SS"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="$.^W2Q9?Iytm2{~6@Gf0"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="controls_if" id="$DRQv62HbgRyb,z=+lCa"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="R/!lI.n?K_7YrITy$V-)"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="65L):3i4j,s;n8S|UdM8"><value name="LIST"><block type="variables_get" id="4qq;8^VLjSl:Z_a^[:SY"><field name="VAR" id="U^8E#-926Oub2Wt~eU0|">brightness_map</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="XCYl$X_E5o@=*343MuN{"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="k)Bh2Y^#;z~~(LIt3p=2"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|RxH43]LgtB`G[xnZ4x_"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></block></value><value name="B"><shadow type="math_number" id="APi~rrbc4b;`RK*2+)k]"><field name="NUM">5</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Cw-`y+ECNyAx^-(w!Pn9"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="86,@L)/_OKIiuC}mwNO?"><field name="NUM">0.4</field></shadow></value></block></value><statement name="DO0"><block type="device_plot" id="X`6Z9M1LZc*f).rn@)kP"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="43lL,ug~ke,N`Y}Ehr9g"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="dSoLO7Pr?[hx;#pqRE!3"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></block></value></block></statement><statement name="ELSE"><block type="device_unplot" id="0c$Gd|,8`w,m@{cnj4I%"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="=2l%w]fxIZ7`/farZD_,"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="n`?^D9L][rVDawkb]@T}"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></block></value></block></statement><next><block type="variables_set" id="Kzt_kuQ/dd(%I$0UVEm{"><field name="VAR" id="$EPpqG)=@oO%;U`of%Mh">detected</field><value name="VALUE"><shadow type="math_number" id="df21{pC}RwUrTrYjXC!]"><field name="NUM">0</field></shadow></value><next><block type="controls_if" id="O@%(fIZM{|yoC$egT{O`"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="5h^*KAdui5*~=iC2|.d_"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_op3" id="pe_x]fyao@~3MBtDs%vM"><value name="x"><block type="math_arithmetic" id="ZNO198o4{@ZtMQU2J@}Y"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="8GNAhqg$FZ*MAjQ*3kLa"><value name="LIST"><block type="variables_get" id="8#|kn|xtNnQfjHMOCB$K"><field name="VAR" id="U^8E#-926Oub2Wt~eU0|">brightness_map</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="bl-q-dN(f*fcg.}xh?r,"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="p~OL0Vo]5YT=IGqLz_t#"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Vwpt+d-Nh:(?krvYqg=M"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></block></value><value name="B"><shadow type="math_number" id="j_/Wt*R!`*rTHzH+mt@}"><field name="NUM">5</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Gksi}7(V4sN83st`hP~R"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></block></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="YTeFg9SfV4j@V,=$$MsQ"><value name="LIST"><block type="variables_get" id="fBK7gYEQ)=b8wHqajI,-"><field name="VAR" id="Vd`RS(1:_30PnBnoz?pC">brightness_map_prev</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="R^d~1m9c1*nEdrv4KlWT"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="O#kKel;pMD_%:$!hOpFM"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=":%aF{5Qu92SxKeRb{n-+"><field name="VAR" id="RB!*v1/F3C!EcaWcWm|h">y2</field></block></value><value name="B"><shadow type="math_number" id="VF77r4i3u46z@cG7b7pb"><field name="NUM">5</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="R_X6`k+.$+-w#sY+ishJ"><field name="VAR" id="5mkApR[w~HM~8n*VHvjK">x2</field></block></value></block></value></block></value></block></value></block></value><value name="B"><shadow type="math_number" id=":S3di~Co.Day;v1Y.lrW"><field name="NUM">0.3</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="*K1o30dg`j(nFf:jfz@a"><field name="VAR" id="$EPpqG)=@oO%;U`of%Mh">detected</field><value name="VALUE"><shadow type="math_number" id="p,G$KoLQS8Fz1X4}lb=d"><field name="NUM">1</field></shadow></value></block></statement></block></next></block></next></block></statement></block></statement><next><block type="controls_if" id="7C6`miECt1,Qm**.}+Ci"><mutation else="1"/><comment>serial.writeLine("Detected!")</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="3t!l6wr1M^x9MRcF$L8x"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="mJg|Ss49lgE3kXnqDK?#"><field name="VAR" id="$EPpqG)=@oO%;U`of%Mh">detected</field></block></value><value name="B"><shadow type="math_number" id=";@NfAD]cx~)W`*z9gtzp"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="serial_writeline" id="v%|y,%qG_}=W_?D$K|Ia"><value name="text"><shadow type="text" id="r,CK%G/Y2}:Ie!?;Jv9-"><field name="TEXT">1</field></shadow></value><next><block type="radio_datagram_send" id="a$AP4;Vv48rZWV1Qe}ej"><value name="value"><shadow type="math_number" id="I?wG?Mz6?m7,P7{v~^Io"><field name="NUM">1</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="qPKG2z?Zk~%rcv:gG`^g"><value name="text"><shadow type="text" id="2?CH2EoVc2N/)au7HQ5N"><field name="TEXT">0</field></shadow></value><next><block type="radio_datagram_send" id="wxAAJm*zZt9U+0BISmx`"><value name="value"><shadow type="math_number" id="|xn!,AFoD/^M9M]r]OTK"><field name="NUM">0</field></shadow></value></block></next></block></statement><next><block type="typescript_statement" id="1I(H`kj3,PU~Mez$;a!;" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="brightness_map_prev = brightness_map.slice()" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>